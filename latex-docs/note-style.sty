\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{note-style}

% fonts
\renewcommand{\rmdefault}{cmr}
\renewcommand{\sfdefault}{cmss}

% colors
\usepackage{xcolor}
\definecolor{PageColor}{HTML}{D3D3D3}
\definecolor{FontColor}{HTML}{757575}

% set page geometry
\usepackage[verbose=true,a4paper]{geometry}
\AtBeginDocument{
  \newgeometry{
    left=1in,
    top=1in,
    textheight=9in,
    textwidth=7in,    
    headheight=12pt,
    headsep=12pt
  }
}

\usepackage{lastpage}
\usepackage[myheadings]{fancyhdr}
\pagestyle{fancy}

% clear existing header/footer entries
\fancyhf{} 
\fancyhead[R]{\emph{Page \thepage::\pageref{LastPage}}}

% https://www.overleaf.com/learn/latex/Hyperlinks
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=cyan,
    urlcolor=teal
}

% line number
\RequirePackage{lineno}
\linenumbers

% fix incompatibilities between lineno and amsmath, 
% if required, by transparently wrapping linenomath environments 
% around amsmath environments
\AtBeginDocument{%
    \@ifpackageloaded{amsmath}{%
    \newcommand*\patchAmsMathEnvironmentForLineno[1]{%
        \expandafter\let\csname old#1\expandafter\endcsname\csname #1\endcsname
        \expandafter\let\csname oldend#1\expandafter\endcsname\csname end#1\endcsname
        \renewenvironment{#1}%
                        {\linenomath\csname old#1\endcsname}%
                        {\csname oldend#1\endcsname\endlinenomath}%
    }%
    \newcommand*\patchBothAmsMathEnvironmentsForLineno[1]{%
        \patchAmsMathEnvironmentForLineno{#1}%
        \patchAmsMathEnvironmentForLineno{#1*}%
    }%
    \patchBothAmsMathEnvironmentsForLineno{equation}%
    \patchBothAmsMathEnvironmentsForLineno{align}%
    \patchBothAmsMathEnvironmentsForLineno{flalign}%
    \patchBothAmsMathEnvironmentsForLineno{alignat}%
    \patchBothAmsMathEnvironmentsForLineno{gather}%
    \patchBothAmsMathEnvironmentsForLineno{multline}%
    }{}
}